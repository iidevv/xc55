<h1>Subscription migration statistics</h1>
<p><b>Subscribers:</b> {{this.getActiveSubscribersCount()}}</p>
<p><b>Migrated Subscribers:</b> {{this.getMigratedSubscribersCount()}}</p>
<div style="width: 100%; height: 60vh">
  <canvas id="stats"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const activeSubscribers = {{this.getActiveSubscribersCount()}};
  const migratedSubscribers = {{this.getMigratedSubscribersCount()}};

  const ctx = document.getElementById('stats');
  const data = {
      labels: ['Migrated Subscribers', 'Subscribers'],
      datasets: [
          {
              label: 'Subscribers',
              data: [migratedSubscribers, activeSubscribers],
              backgroundColor: ['#4caf50', '#2196f3'],
          }
      ]
  };

  new Chart(ctx, {
      type: 'pie',
      data: data,
      options: {
          responsive: true,
          plugins: {
              legend: {
                  position: 'top',
              },
              title: {
                  display: true,
                  text: 'Subscribers Overview'
              }
          }
      },
  });
</script>
