{##
 # Saved cards 
 #
 #}
<div class="subscription-card">

  {% if this.entity.isFree() %}
    {{ t('Not required') }}
  {% else %}
    {% if not this.entity.isCardValid() %}
      <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> {{ t('Not available') }}
    {% endif %}

    {% if this.entity.getPossibleSavedCards() %}
      <select name="data[{{ this.entity.getId() }}][card]" class="form-control">
        {% if not this.entity.isCardValid() %}
          <option value="">{{ t('Select another...') }}</option>
        {% endif %}
        {% for card in this.entity.getPossibleSavedCards() %}
          <option
              value="{{ card.card_id }}"{% if (this.entity.getCard() and this.entity.getCard().card_id == card.card_id) %} selected="selected"{% endif %}>
            {{ this.getCardName(card) }}
          </option>
        {% endfor %}
      </select>
    {% endif %}
  {% endif %}

</div>
