/**
 * Sidebar styles
 *
 * Copyright (c) 2011-present Qualiteam software Ltd. All rights reserved.
 * See https://www.x-cart.com/license-agreement.html for license details.
 */

#sidebar-first {
  min-width: @left-side-menu-width-compressed;
  max-width: @left-side-menu-width-compressed;
  position: relative;
  transition: all @left-menu-compress-time ease-in-out;

  .left-menu-expanded & {
    min-width: @left-side-menu-width;
    max-width: @left-side-menu-width;
  }

  .left-menu-header {
    > a {
      display: flex;
      align-items: center;
      color: #fff;
      text-decoration: none;
      font-size: @font-size-small;

      .logo {
        padding: (.5 * @rhythmic-unit) (.75 * @rhythmic-unit) (.75 * @rhythmic-unit);
      }

      .edition {
        opacity: 0;
        visibility: hidden;
        transition: opacity @left-menu-compress-time ease-in-out, visibility @left-menu-compress-time ease-in-out;

        .left-menu-expanded & {
          opacity: 1;
          visibility: visible;
        }
      }
    }
  }

  #leftMenu {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: @left-side-menu-width;
    transition: width @left-menu-compress-time ease-in-out;
    background-color: @left-menu-bg;
    z-index: 35;
    display: flex;
    .flex-direction(column);

    .has-activate-notice & {
      top: 3 * @rhythmic-unit;
    }

    .left-menu-expanded & {
      overflow-y: overlay;
      overflow-x: hidden;

      &::-webkit-scrollbar {
        width: 5px;
        background-color: rgba(0, 0, 0, .01);
      }

      &::-webkit-scrollbar-thumb {
        border-radius: 2.5px;
        background: rgba(171, 171, 171, .5);
      }
    }

    .left-menu-compressed & {
      width: @left-side-menu-width-compressed;
    }
  }
}

.widget-itemslist-module-saleschannels,
.widget-itemslist-module-hotaddons {
  .ui-dialog &.ui-dialog-content {
    overflow: visible;
  }

  .marketplace-wrapper {
    max-height: 470px;
    width: auto;
    margin-left: -30px;
    margin-right: -30px;
    overflow: auto;

    border-top: 1px solid #dbdbdb;
    border-bottom: 1px solid #dbdbdb;

    &.scroll-top {
      border-top-color: transparent;
    }

    &.scroll-bottom {
      border-bottom-color: transparent;
    }
  }

  .sales-channel-footer,
  .hot-addons-footer {
    .flex-display();
    .align-items(flex-end);
    .justify-content(center);

    height: 50px;
    font-size: 18px;
  }
}

#leftMenu {
  ul, li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  ul li {
    &.nocapitalize {

      a {
        text-transform: none;
      }
    }

    a {
      text-decoration: none;
    }

    .link {
      i, span {
        color: @color-white;
      }
    }
  }

  i {
    &:before {
      font-size: 18px;
    }
  }

  ul.menu {
    & > li {
      position: relative;
      overflow: visible;
      width: @left-side-menu-width;

      &.bottom-separator:after {
        content: '';
        display: flex;
        margin: 0 @rhythmic-unit;
        border-bottom: 1px solid @color-border;
        transition: all @left-menu-compress-time ease-in-out;
      }

      > .line {
        display: flex;
        justify-content: space-between;
        align-items: center;

        .link {
          display: flex;
          cursor: pointer;
          width: 100%;
          padding: (0.75 * @rhythmic-unit) 0 (0.75 * @rhythmic-unit) @left-menu-horizontal-padding;

          .icon {
            .flex-display();
            .justify-content(center);
            .align-items(center);
            .flex-shrink(0);
            position: relative;
            height: @left-menu-icon-size;
            width: @left-menu-icon-size;
          }

          span.title {
            line-height: @line-height-base;
            margin-left: 0.25 * @rhythmic-unit;
            transition: opacity @left-menu-compress-time ease-in-out, visibility @left-menu-compress-time step-start;
          }
        }
      }

      &.top-separator {
        margin-top: @rhythmic-unit / 2;

        &:before {
          content: "";
          display: block;
          margin: 0 @rhythmic-unit / 2 @rhythmic-unit / 2 @rhythmic-unit / 2;
          border-top: @border-base solid @color-border-dark;
        }
      }

      &.has-label > .line {
        .icon-circle {
          .rounded(7px);
          display: flex;
          position: absolute;
          width: 13px;
          height: 13px;
          top: 0;
          left: 15px;
          transition: left @left-menu-compress-time ease-in-out;
          background-color: @left-menu-bg;
          font-size: 0;

          &:after {
            .rounded(7px);
            content: '';
            background-color: @color-orange;
            border: 3px solid @left-menu-bg;
            width: 100%;
            height: 100%;
          }
        }
      }

      .label,
      .action-widget {
        display: inline-block;
        padding: 0;
        transition: visibility .25s step-end;
        cursor: pointer;

        > a,
        > span {
          margin: auto;
          display: flex;
          justify-content: center;
          align-items: center;
          color: @color-orange;
          height: @line-height-small;
          text-align: right;
          font-size: @font-size-base;
        }
      }

      .label {
        padding: @rhythmic-unit @rhythmic-unit @rhythmic-unit (0.5 * @rhythmic-unit);
        font-weight: @font-bold;
      }

      .action-widget {
        > a {
          .flex-display();
          .align-items(center);
          .justify-content(center);
          color: @color-white;
          padding: @rhythmic-unit @rhythmic-unit @rhythmic-unit (0.5 * @rhythmic-unit);
          height: 3 * @rhythmic-unit;

          .fa {
            width: @rhythmic-unit;
            height: @rhythmic-unit;
          }
        }

        .tooltip-inner {
          white-space: nowrap;
        }
      }

      div.box {
        overflow: hidden;
        opacity: 1;
        position: relative;
      }

      &.collapsed div.box {
        height: 0 !important;
        opacity: 0;
      }

      &.expanded > .line,
      &.active > .line {
        span.title,
        .icon > i {
          color: @color-white;
        }
      }

      ul {
        li {
          .link {
            display: flex;
            padding: (0.25 * @rhythmic-unit) @rhythmic-unit (0.25 * @rhythmic-unit) (@left-menu-icon-size + 1.25 * @rhythmic-unit);
          }

          &.title {
            display: none;

            .icon {
              display: none;
            }
          }

          &.has-label > .line {
            display: flex;

            .link {
              width: 100%;
            }

            .label {
              padding: (0.5 * @rhythmic-unit) @rhythmic-unit (0.5 * @rhythmic-unit) (0.5 * @rhythmic-unit);
            }
          }
        }
      }
    }

    li {
      &.active:not(.expanded),
      .left-menu-compressed &.active {
        > .line {
          background-color: @color-light-blue-with-03-opacity;
        }

        &.has-label > .line .icon-circle:after {
          border-color: @color-light-blue-with-03-opacity;
        }
      }

      &:hover {
        > .line {
          background-color: @color-light-blue-with-01-opacity;
        }

        &.has-label > .line .icon-circle:after {
          border-color: @color-light-blue-with-01-opacity;
        }
      }
    }
  }

  &.compressed {
    width: @left-side-menu-width-compressed;

    .left-menu-container {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    ul.menu {
      display: flex;
      flex-direction: column;
      height: 100%;

      & > li {
        flex-grow: 1;
        min-height: @rhythmic-unit * 2;
        max-height: @rhythmic-unit * 3;
        width: @left-side-menu-width-compressed;

        &.bottom-separator:after {
          margin: 0 (0.75 * @rhythmic-unit);
          width: @left-side-menu-width-compressed - 1.5 * @rhythmic-unit;
        }

        &:not(.empty) > .line > a {
          cursor: default;
        }

        & > .line {
          height: 100%;

          .link {
            padding-top: 0;
            padding-bottom: 0;

            span.title {
              white-space: nowrap;
              opacity: 0;
              visibility: hidden;
              transition: opacity @left-menu-compress-time ease-in-out, visibility @left-menu-compress-time step-end;
            }
          }

          span.link {
            cursor: default;
          }

          .label,
          .action-widget {
            padding: 0;
            visibility: hidden;
            transition: visibility .25s step-start;
          }
        }

        div.box {
          .rounded(@border-radius-base);
          padding: @rhythmic-unit/2 0;
          position: absolute !important;
          width: @width-dropdown-box-in-left-side-menu;
          left: @left-side-menu-width-compressed;
          top: 0;
          bottom: auto;
          max-width: 450px;
          z-index: 200;
          background-color: @left-menu-bg;
          box-shadow: 0 5px 10px rgba(51, 51, 51, 0.4);
          height: auto !important;

          opacity: 0;
          visibility: hidden !important;
          transition: opacity .25s ease-in-out, visibility .25s step-end;
        }

        &:hover > div.box {
          opacity: 1;
          visibility: visible !important;
          transition: opacity .25s ease-in-out, visibility .25s step-start;
        }

        ul {
          li {
            font-weight: @font-bold;
            line-height: @line-height-small;
            font-size: @font-size-small;

            &.menu-item.title {
              display: block;
              font-size: @font-size-very-small;

              .line {
                background-color: transparent;

                .link {
                  pointer-events: none;
                }
              }

              span.title {
                color: @color-grey-light;
              }
            }

            .line {
              display: flex;
              align-items: center;
              gap: @rhythmic-unit / 2;
              padding: (@rhythmic-unit / 2) @rhythmic-unit;

              .link {
                padding: 0;
                width: 100%;
              }

              span.link {
                cursor: default;
              }

              .label {
                padding: 0 0 0 @rhythmic-unit;
                transition: unset;

                > span {
                  font-size: @font-size-small;
                }
              }

              .action-widget {
                transition: unset;

                > a {
                  padding: 0;
                  height: auto;
                }
              }
            }

            &:first-child {
              .line {
                padding-bottom: @rhythmic-unit / 4;
              }
            }
          }
        }
      }
    }
  }
}
