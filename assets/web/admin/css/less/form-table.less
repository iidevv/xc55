/**
 * Form table styles
 *
 * Copyright (c) 2011-present Qualiteam software Ltd. All rights reserved.
 * See https://www.x-cart.com/license-agreement.html for license details.
 */

.model-form-buttons {
  padding-top: @rhythmic-unit * 2;
  padding-bottom: @rhythmic-unit;

  & > * + button,
  & > * + a {
    margin-left: (@rhythmic-unit / 2);
  }
}

.single-form-field {
  .flex-display();
  padding: @form-row-vertical-padding 0;

  & > .table-label {
    z-index: 1;
    padding-top: @form-label-vertical-offset;
    padding-right: (@grid-gutter-width / 2);
    color: @form-label-color;
  }

  .help-wrapper {
    text-align: right;
    display: inline-block;
    vertical-align: middle;
    line-height: (@rhythmic-unit);
    font-weight: @font-regular;
  }

  .help-block {
    margin-top: 0;
    margin-bottom: -(@line-height-small-text);
  }

  & > .table-value {
    flex: 1 0;
    position: relative;

    & > .input-field-wrapper {
      .flex-display(inline-flex);
      align-items: center;

      > span {
        margin-top: 8px;
      }
    }

    .form-control-widths();
  }
}

form {
  .table:not(.vertical) {
    .ui-dialog & {
      padding-right: 1.5 * @rhythmic-unit;
    }

    & > li:not(.separator),
    & > div:not(.separator) {
      .flex-display();
      min-height: @rhythmic-unit * 2;

      &.hidden-state-field {
        display: none;
      }

      & > .table-value {
        .flex(1 0);
        padding: @form-row-vertical-padding 0;

        &:first-child {
          margin-left: @form-label-width;
        }
      }

      &.input .table-value .single-selector {
        padding-top: (@rhythmic-unit / 2) - @form-row-vertical-padding;

        li + li {
          margin-top: @rhythmic-unit / 2;
        }
      }

      .input-internal-wrapper {
        .flex-display();
        .align-items(flex-start);

        .input-text-symbol .input-group-wrapper {
          width: @form-value-input-width;
        }
      }

      &.fileuploader-image > .table-value {
        padding: 0;
      }
    }

    .help-block {
      margin-top: 0;
      margin-bottom: -(@line-height-small-text);
    }

    .table-label {
      padding-top: @form-label-vertical-offset;
      text-align: @form-label-horizontal-align;

      .tooltip-main {
        margin-left: @rhythmic-unit / 2;
      }
    }

    .input.fileuploader-image {
      .table-label {
        padding-top: 0;

        label {
          /* half of the fileuploader height */
          margin-top: 60px;
          transform: translateY(-50%);

          .tooltip-main {
            margin-left: @rhythmic-unit / 2;
          }
        }
      }
      .table-value {
        .help-wrapper {
          /* half of the fileuploader height */
          margin-top: 60px;
          transform: translateY(-50%);
        }
      }
    }

    .clean-url-result-info-block {
      width: max-content;
    }

    .cleanurl-out-wrapper {
      max-width: 420px;
    }

    * + .edit-link {
      margin-left: 6px;
    }

    .help-wrapper {
      .flex(0 auto);
      .flex-display();
      .align-items(center);
      height: @form-value-wrapper-min-height;

      .ui-dialog & {
        position: absolute;
        right: -(1.5 * @rhythmic-unit);
      }
    }

    .textarea-simpleproxiedlabel, .textarea-simple {
      + .help-wrapper {
        .align-self(flex-start);
        height: @rhythmic-unit;
      }
    }
  }

  &.use-inline-error {
    .table-value > .input-internal-wrapper > .input-field-wrapper.has-error {
      .flex-display(inline);

      input {
        box-shadow: 0 0 10px 0 rgb(131, 53, 52, 0.5);
        border: solid 1px #833534;
      }

      p.inline-error {
        padding-left: unset;
      }
    }
  }

  .table > * + * {
    margin-top: @form-row-vertical-margin;
  }

  .table-label {
    z-index: 1;
    padding-right: (@grid-gutter-width / 2);
    width: @form-label-width;

    &.table-label-required label {
      .required-label();
    }

    & > label {
      position: relative;
      word-break: break-word;
    }

    & ~ .star {
      display: none;
    }
  }

  .table-value {
    position: relative;

    & > .input-internal-wrapper {
      display: flex;

      > .input-field-wrapper {
        .flex-display(inline-flex);
        .align-items(center);

        &.input-label > span {
          margin-top: 0.25 * @rhythmic-unit;
          margin-bottom: 0.25 * @rhythmic-unit;
        }
      }
    }

    .form-control-widths();

    .form-field-comment,
    .form-field-link {
      &:not(.not-padded) {
        margin-top: @help-block-margin-top;
      }
    }

    .input-text-textwithcopybutton .copy-link {
      margin-left: @rhythmic-unit / 2;
    }
  }

  .separator {
    .alert {
      margin-bottom: 0;
    }
  }

  .table.two-column {
    display: block;
    column-count: 2;
  }

  .inline-table.inline-table {
    .flex-display();
    .align-items(center);
    position: relative;

    & > * + * {
      white-space: nowrap;
      margin-left: @rhythmic-unit;
    }

    .input-field-wrapper {
      width: 100%;
    }

    .table-value button.ui-multiselect {
      width: 100% !important;
    }

    .table-value .form-control {
      width: 100%;
      min-width: 100px;
    }

    .table-label {
      width: auto;
    }
  }
}

.form-horizontal {
  .mail-textarea-advanced-row,
  .textarea-row {
    .input-widget {
      .input-wrapper {
        .flex-display();
        .flex-grow(1);

        textarea {
          display: inline-block;
        }
      }
    }
  }
}
